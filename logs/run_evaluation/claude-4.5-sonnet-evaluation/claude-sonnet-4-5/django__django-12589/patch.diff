--- a/django/db/models/sql/query.py
+++ b/django/db/models/sql/query.py
@@ -1942,6 +1942,17 @@ class Query(BaseExpression):
                 else:
                     if not allow_aliases:
                         alias = None
+                    # Detect collisions with column names from joined tables
+                    if alias is not None:
+                        all_column_names = set()
+                        for table_alias, table in self.alias_map.items():
+                            if isinstance(table, Join):
+                                model = table.join_field.related_model
+                            else:
+                                # BaseTable case
+                                model = self.model
+                            all_column_names.update(get_field_names_from_opts(model._meta))
+                        if alias in all_column_names:
+                            alias = None
                     group_by_cols = annotation.get_group_by_cols(alias=alias)
                 group_by.extend(group_by_cols)
         self.group_by = tuple(group_by)
 
 
